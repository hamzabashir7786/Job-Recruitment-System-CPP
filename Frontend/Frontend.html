<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recruitment Management System</title>
    <style>
        /* Design bilkul wahi hai jo aapne provide kiya tha */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; }
        nav { background: rgba(255, 255, 255, 0.95); padding: 1rem 0; box-shadow: 0 2px 10px rgba(0,0,0,0.1); position: sticky; top: 0; z-index: 100; }
        nav ul { list-style: none; display: flex; justify-content: center; align-items: center; gap: 2rem; flex-wrap: wrap; }
        nav a { text-decoration: none; color: #667eea; font-weight: 600; padding: 0.5rem 1rem; border-radius: 5px; transition: all 0.3s; cursor: pointer; }
        nav a:hover, nav a.active { background: #667eea; color: white; }
        .github-link { background: #333 !important; color: white !important; } /* Special style for GitHub button */
        .container { max-width: 1200px; margin: 2rem auto; padding: 0 1rem; }
        .page { display: none; background: white; border-radius: 15px; padding: 2rem; box-shadow: 0 10px 30px rgba(0,0,0,0.2); animation: fadeIn 0.5s; }
        .page.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        h1 { color: #667eea; margin-bottom: 1.5rem; font-size: 2.5rem; text-align: center; }
        h2 { color: #764ba2; margin-bottom: 1rem; font-size: 1.8rem; }
        .btn { display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 1rem 2rem; border: none; border-radius: 50px; cursor: pointer; font-size: 1rem; font-weight: 600; transition: transform 0.3s; margin: 0.5rem; }
        .btn:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4); }
        .job-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 2rem; margin: 2rem 0; }
        .job-card { background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); padding: 1.5rem; border-radius: 10px; border-left: 4px solid #667eea; }
        input, select, textarea { width: 100%; padding: 0.8rem; border: 2px solid #e0e0e0; border-radius: 8px; margin-bottom: 1rem; }
        table { width: 100%; border-collapse: collapse; margin: 2rem 0; }
        th, td { padding: 1rem; border-bottom: 1px solid #e0e0e0; text-align: left; }
        th { background: #667eea; color: white; }
        .footer { text-align: center; color: white; padding: 2rem; margin-top: 3rem; }
    </style>
</head>
<body>
    <nav>
        <ul>
            <li><a onclick="showPage('home')" id="nav-home" class="nav-link active">Home</a></li>
            <li><a onclick="showPage('jobs')" id="nav-jobs" class="nav-link">Jobs</a></li>
            <li><a onclick="showPage('apply')" id="nav-apply" class="nav-link">Apply</a></li>
            <li><a onclick="showPage('hr-dashboard')" id="nav-hr" class="nav-link">HR Dashboard</a></li>
            <li><a href="https://github.com/hamzabashir7786" target="_blank" class="nav-link github-link">GitHub Profile</a></li>
        </ul>
    </nav>

    <div class="container">
        <div id="home" class="page active">
            <div style="text-align: center; padding: 3rem 0;">
                <h1>Recruitment Management System</h1>
                <p style="font-size: 1.2rem; color: #666; margin-bottom: 2rem;">Backend Logic powered by C++ Data Structures</p>
                <button class="btn" onclick="showPage('jobs')">Browse Jobs</button>
                <a href="https://github.com/hamzabashir7786" target="_blank" class="btn" style="background:#333;">View Code on GitHub</a>
            </div>
        </div>

        <div id="jobs" class="page">
            <h1>Available Positions</h1>
            <div id="jobDisplayGrid" class="job-grid"></div>
        </div>

        <div id="apply" class="page">
            <h1>Job Application Form</h1>
            <form id="applicationForm">
                <input type="number" id="appID" placeholder="Applicant ID" required>
                <input type="text" id="appName" placeholder="Full Name" required>
                <input type="email" id="appEmail" placeholder="Email Address" required>
                <select id="jobSelectMenu" required>
                    <option value="">-- Select Available Job --</option>
                </select>
                <input type="number" id="appScore" placeholder="Score (1-100)" min="1" max="100" required>
                <button type="submit" class="btn">Submit Application</button>
            </form>
        </div>

        <div id="hr-dashboard" class="page">
            <h1>HR Dashboard</h1>
            <div style="display: flex; gap: 2rem; margin-bottom: 2rem; justify-content: center;">
                <div style="background:#764ba2; color:white; padding:20px; border-radius:10px; text-align:center; flex:1;">
                    <h3 id="countJobs">0</h3><p>Active Jobs</p>
                </div>
                <div style="background:#667eea; color:white; padding:20px; border-radius:10px; text-align:center; flex:1;">
                    <h3 id="countApps">0</h3><p>Total Applicants</p>
                </div>
            </div>

            <h2>All Applicants List</h2>
            <table>
                <thead><tr><th>ID</th><th>Name</th><th>Email</th><th>Job</th><th>Score</th></tr></thead>
                <tbody id="allAppsBody"></tbody>
            </table>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                <div>
                    <h2>Add New Job</h2>
                    <form id="addJobForm">
                        <input type="number" id="jId" placeholder="Job ID" required>
                        <input type="text" id="jTitle" placeholder="Job Title" required>
                        <input type="text" id="jComp" placeholder="Company" required>
                        <input type="number" id="jSal" placeholder="Salary" required>
                        <button type="submit" class="btn">Post Job</button>
                    </form>
                </div>
                <div>
                    <h2>Top Ranked (Bubble Sort)</h2>
                    <button class="btn" onclick="refreshTopApplicants()">Sort Applicants</button>
                    <table>
                        <thead><tr><th>Name</th><th>Score</th></tr></thead>
                        <tbody id="topAppsBody"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- LOGIC ---
        class JobNode { constructor(id, title, company, salary) { this.id = id; this.title = title; this.company = company; this.salary = salary; this.next = null; } }
        class ApplicantNode { constructor(id, name, email, job, score) { this.id = id; this.name = name; this.email = email; this.job = job; this.score = score; this.next = null; } }

        class RecruitmentSystem {
            constructor() { this.jobHead = null; this.appHead = null; this.appCount = 0; }
            addJob(id, title, company, salary) { let n = new JobNode(id, title, company, salary); n.next = this.jobHead; this.jobHead = n; }
            apply(id, name, email, job, score) { let n = new ApplicantNode(id, name, email, job, score); n.next = this.appHead; this.appHead = n; this.appCount++; }
            sort() {
                if(!this.appHead) return;
                let swapped;
                do {
                    swapped = false;
                    let curr = this.appHead;
                    while(curr.next) {
                        if(curr.score < curr.next.score) {
                            [curr.name, curr.next.name] = [curr.next.name, curr.name];
                            [curr.score, curr.next.score] = [curr.next.score, curr.score];
                            swapped = true;
                        }
                        curr = curr.next;
                    }
                } while(swapped);
            }
        }

        const sys = new RecruitmentSystem();

        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            if(pageId !== 'home') document.getElementById('nav-'+(pageId=='hr-dashboard'?'hr':pageId)).classList.add('active');
            updateUI();
        }

        function updateUI() {
            const grid = document.getElementById('jobDisplayGrid');
            const select = document.getElementById('jobSelectMenu');
            const appBody = document.getElementById('allAppsBody');
            grid.innerHTML = '';
            select.innerHTML = '<option value="">-- Select Available Job --</option>';
            appBody.innerHTML = '';

            let jCount = 0;
            let jTemp = sys.jobHead;
            while(jTemp) {
                jCount++;
                grid.innerHTML += `<div class="job-card"><h3>${jTemp.title}</h3><p>${jTemp.company}</p><button class="btn" style="padding:5px 15px;" onclick="showPage('apply')">Apply</button></div>`;
                select.innerHTML += `<option value="${jTemp.title}">${jTemp.title}</option>`;
                jTemp = jTemp.next;
            }

            let aTemp = sys.appHead;
            while(aTemp) {
                appBody.innerHTML += `<tr><td>${aTemp.id}</td><td>${aTemp.name}</td><td>${aTemp.email}</td><td>${aTemp.job}</td><td>${aTemp.score}</td></tr>`;
                aTemp = aTemp.next;
            }
            document.getElementById('countJobs').innerText = jCount;
            document.getElementById('countApps').innerText = sys.appCount;
        }

        document.getElementById('addJobForm').onsubmit = (e) => {
            e.preventDefault();
            sys.addJob(document.getElementById('jId').value, document.getElementById('jTitle').value, document.getElementById('jComp').value, document.getElementById('jSal').value);
            alert("Job Added!"); e.target.reset(); updateUI();
        };

        document.getElementById('applicationForm').onsubmit = (e) => {
            e.preventDefault();
            sys.apply(document.getElementById('appID').value, document.getElementById('appName').value, document.getElementById('appEmail').value, document.getElementById('jobSelectMenu').value, parseInt(document.getElementById('appScore').value));
            alert("Application Submitted!"); e.target.reset(); 
            showPage('home'); // Redirect to Home
        };

        function refreshTopApplicants() {
            sys.sort();
            const body = document.getElementById('topAppsBody');
            body.innerHTML = '';
            let t = sys.appHead;
            while(t) {
                body.innerHTML += `<tr><td>${t.name}</td><td><strong>${t.score}</strong></td></tr>`;
                t = t.next;
            }
        }
    </script>
</body>
</html>